<?xml version="1.0" encoding="utf-8"?>
    <odoo>
        <template id="properties_template">
            <html>
                <head>
                    <title t-esc="status_message">Properties</title>
                    <link rel="stylesheet" href="/web/static/lib/bootstrap/dist/css/bootstrap.css"/>
                    <script src="https://kit.fontawesome.com/3b1c019d23.js" crossorigin="anonymous"></script>
                    <style>
                        .card {
                            height: 400px;
                            border-radius: 20px;
                            width: 18rem;
                        }

                        .card:hover {
                            transform: scale(1.05);
                            box-shadow: 0 10px 20px rgba(0,0,0,.12), 0 4px 8px rgba(0,0,0,.06);  
                            transition: all 0.2s ease-in;
                        }

                        .card .fa-solid.fa-arrow-right {
                            position: absolute;
                            left: 115px;
                            bottom: -80px;
                            background-color: #35979c;
                            height: 50px;
                            width: 50px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            border-radius: 50%;
                            color: white;
                            opacity: 0;
                            transform: translateY(-40%);
                            transition: all 0.5s ease;
                        }

                        .card:hover .fa-solid.fa-arrow-right {
                            bottom: 0px;
                            opacity: 1;
                        }

                    </style>
                </head>
                <body>
                    <t t-call="website.layout">
                        <form action="/properties/" >
                            <t t-call="website.website_search_box">
                                <t t-set="action" t-value= "'/properties/'"/>
                            </t>
                        </form>
                        <t t-set="title">Properties</t>
                        <div class="oe_structure">
                            <div class="container">
                                <div class="container text-center">
                                    <div class="row row-cols-4">
                                        <t t-foreach="properties" t-as="property">
                                            <div class="col">
                                                <div class="card shadow-lg p-4 mb-5 mt-4">
                                                    <t t-if="property.image">
                                                        <img t-att-src="image_data_uri(property.image)" alt="image" class="oe_avatar"/>
                                                    </t>
                                                    <div class="card-body">
                                                        <h5 class="card-title"><span t-field="property.name"/></h5>
                                                        <t t-set="tag" t-value="property.mapped('property_tag_ids')"/>
                                                        <t t-foreach="tag" t-as="t">
                                                            <span t-field="t.name"  class="badge rounded-pill bg-info text-dark mb-3"/>
                                                        </t><br/>
                                                        <span t-esc="property.date_availability" t-options='{"widget":"date"}'/>
                                                        <div>Expected Price:<span t-esc="property.expected_price"/></div>
                                                        <center><a t-attf-href="/properties/{{ slug(property) }}" width="100%"><span class="fa-solid fa-arrow-right"></span></a></center>
                                                    </div>
                                                </div>
                                            </div>
                                        </t>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-center my-3">
                            <t t-call="website.pager"/>
                        </div>
                    </t>
                </body>
            </html>
        </template>
        
        <template id="template_controller">
            <html>
                <head>
                    <title t-esc="status_message">Properties</title>
                    <link rel="stylesheet" href="/web/static/lib/bootstrap/dist/css/bootstrap.css"/>
                    <style>

                        .card{
                            width: 60rem;
                        }

                        .prop_img{
                            height:400px;
                        }

                        .owner-details{
                            float:left;
                        }

                        .prop-details{
                            position:absolute;
                            left:420px;  
                            float: left
                        }

                        .garden-details{
                            position:relative;
                            left:480px;  
                        }

                    </style>
                </head>
                <body>
                    <t t-call="website.layout">
                        <div class="oe_structure">
                            <div class="container">
                                
                                <div class="card shadow-lg p-4 mb-5 mt-4">
                                    <nav aria-label="breadcrumb">
                                        <ol class="breadcrumb">
                                          <li class="breadcrumb-item"><a href="http://localhost:8069/properties">Properties</a></li>
                                          <li class="breadcrumb-item active" aria-current="page"><span t-field="prop.name"/></li>
                                        </ol>
                                      </nav>
                                      <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
                                        <div class="carousel-indicators">
                                          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
                                        </div>
                                        <div class="carousel-inner">
                                          <div class="carousel-item active">
                                            <t t-if="prop.image">
                                                <img t-att-src="image_data_uri(prop.image)" alt="image" class="prop_img d-block w-100"/>
                                            </t>
                                            <div class="carousel-caption d-none d-md-block">
                                              <h5>The Main View</h5>
                                              <p>Eye Catching Homes You Might Be Looking For!</p>
                                            </div>
                                          </div>
                                          <div class="carousel-item">
                                            <t t-if="prop.image1">
                                                <img t-att-src="image_data_uri(prop.image1)" alt="image" class="prop_img d-block w-100"/>
                                            </t>
                                            <div class="carousel-caption d-none d-md-block">
                                              <h5>Bedroom View</h5>
                                              <p>The Cozy Bedroom Space For Your Comfort!</p>
                                            </div>
                                          </div>
                                          <div class="carousel-item">
                                            <t t-if="prop.image2">
                                                <img t-att-src="image_data_uri(prop.image2)" alt="image" class="prop_img d-block w-100"/>
                                            </t>
                                            <div class="carousel-caption d-none d-md-block">
                                              <h5>Kitchen View</h5>
                                              <p>Amazing Cooking Space To Blow Your Minds!</p>
                                            </div>
                                          </div>
                                        </div>
                                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                          <span class="visually-hidden">Previous</span>
                                        </button>
                                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                          <span class="visually-hidden">Next</span>
                                        </button>
                                      </div>
                                    <!-- <t t-if="prop.image">
                                        <img t-att-src="image_data_uri(prop.image)" alt="image" class="prop_img"/>
                                    </t> -->
                                    <div class="card-body">
                                        <h5 class="card-title"><span t-field="prop.name"/></h5>
                                        <span t-field="prop.description"/><br/>
                                        <t t-set="tag" t-value="prop.mapped('property_tag_ids')"/>
                                        <t t-foreach="tag" t-as="t">
                                            <span t-field="t.name"  class="badge rounded-pill bg-info text-dark mt-2"/>
                                        </t>
                                        <!-- <span t-esc="prop.date_availability" /> -->
                                        <div class="prop-info mt-3">  
                                            <div class="owner-details">
                                                <div>Expected Price: <span t-field="prop.expected_price"/></div>
                                                <div>Selling Price: <span t-field="prop.selling_price"/></div>
                                                <div>Salesman: <span t-field="prop.salesman_id"/></div>
                                            </div>
                                            <div class="prop-details">
                                                <div>Bedrooms: <span t-field="prop.bedrooms"/></div>
                                                <div>Living Area: <span t-field="prop.living_area"/> sqm</div>
                                                <div>Facades: <span t-field="prop.facades"/></div>
                                            </div>
                                            <div class="garden-details">
                                                <div>Garden: <span t-field="prop.garden"/></div>
                                                <div>Garden Area: <span t-field="prop.garden_area"/> sqm</div>
                                                <div>Garden Orientation: <span t-field="prop.garden_orientation"/></div>
                                            </div>
                                        </div>
                                            <div style="width:47vw;" class="card shadow-lg p-4 mb-4 mt-4">
                                                <h5 class="card-title">Offers</h5>
                                                <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Price</th>
                                                        <th>Partner</th>
                                                        <th>Validity(days)</th>
                                                        <th>Deadline</th>
                                                        <th>State</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <t t-set="offers" t-value="prop.mapped('offer_ids')"/>
                                                    <tr t-foreach="offers" t-as="offer">
                                                        <td>
                                                            <span t-field="offer.price"/>
                                                        </td>
                                                        <td>
                                                            <span t-field="offer.partner_id"/>
                                                        </td>
                                                        <td>
                                                            <span t-field="offer.validity"/>
                                                        </td>
                                                        <td>
                                                            <span t-field="offer.date_deadline"/>
                                                        </td>
                                                        <td>
                                                            <span t-field="offer.status"/>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="card-footer">
                                        <div>Last Modified: <i t-field="prop.write_date" t-options='{"widget":"relative"}'/></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </body>
            </html>
        </template>

    </odoo>
        