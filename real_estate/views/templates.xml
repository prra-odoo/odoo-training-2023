<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- add menu in the website  -->
    <record id="menu_properties" model="website.menu">
        <field name="name">Properties</field>
        <field name="url">/estate/estate/</field>
        <field name="parent_id" ref="website.main_menu"/>
        <field name="sequence" type="int">60</field>
    </record>

    <template id="index">
        <t t-call="website.layout">
            <t t-set="title">Real Estate</t>
            <div class="oe_structure">
                <form type="get" action="/estate/estate">
                    <div class="d-flex justify-content-between">
                        <input id="date_picker" type="date" name="date_picker" class="o_website_form_input o_website_form_date"/>
                        <button name="Submit" type="submit" class="btn">Submit</button>
                    </div>
                </form>
                <div class="card-group">
                        <t t-foreach="property" t-as="prop">
                            <div class="col-md-2 mt-2 mb-3 mx-5">
                                <a t-attf-href="/estate/estate/{{ slug(prop) }}" class="text-decoration-none">
                                <div class="card" >
                                    <img alt="Avatar" t-attf-src="data:image/png;base64,#{prop.image}" width="320px" height="250px" />
                                    <div class="card-body">
                                        <center>
                                            <h4 class="card-title" style="font-size: 22px; font-weight: bold; color: #333;">
                                                <t t-esc="prop.name"/>
                                            </h4>
                                            <p  style="font-size: 16px; color: #666;">
                                                    Expected Price: <t t-esc="prop.expected_price"/>
                                            </p>
                                        </center>
                                    </div>
                                </div>
                                </a>
                            </div>
                        </t>
                    </div>
                   <div class="products_pager form-inline justify-content-center mt-3">
                       <t t-call="website.pager">
                       <t t-set="_classes">mt-2 ml-md-2</t>
                       </t>
                   </div>
            </div>
        </t>
    </template>

   

    <template id="website_view">
        <t t-call="website.layout">
            <div class="oe_structure">
                <div class="container mt-3">
                    
                    <div>
                        <img class="float-end" t-attf-src="data:image/*;base64,{{properties.image}}" style="width:30%;height:25%"/>
                    </div>
                    
                    <h1 class="text-secondary">
                        <t t-esc="properties.name"/>
                    </h1>
                    <div>
                    <p>   
                        <strong>Expected Price :</strong>
                        <span t-field="properties.expected_price"/>
                    </p> 
                    <p>
                        <strong>Property Type: </strong>
                        <t t-esc="properties.property_type_id.name"/>
                    </p>
                    <p>
                        <strong>Postcode: </strong>
                        <t t-esc="properties.postcode"/>
                    </p>
                    <p>
                        <strong>Best Offer: </strong>
                        <t t-esc="properties.best_price"/>
                    </p>
                    <p>
                        <strong>Date Availibility: </strong>
                        <t t-esc="properties.date_availability"/>
                    </p>
                    </div>
                    <t t-set="tags" t-value="properties.mapped('property_tag_ids')"/>
                    <t t-foreach="tags" t-as="tag">
                    <span t-field="tag.name" class="badge rounded-pill bg-info text-dark"/>
                     </t>
                </div>
                 
            </div>
        </t>
    </template>
</odoo>
